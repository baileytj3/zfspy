ZFSpy: Python bindings for ZFS

    The initial purpose of ZFSpy is just writing a python module,
    which can walk through the zfs filesystem, and can be used to 
    learning zfs data structure, it's readonly.
    
    A working zfs-fuse is needed to play with.



INSTALL
    
    python setup.py install


Examples

    import package

        >>> from zfspy import *

    get pools

        >>> pools = ZPool.import_cached()
        >>> pools
        [<ZPool 'app'>, <ZPool 'db'>]

    print pool status

        >>> app = pools[0]
        >>> app.status()
          pool: app
         state: ACTIVE
        config:
                ROOT
                  MIRROR
                    FILE /chenz/disk1
                    FILE /chenz/disk2
                  MIRROR
                    FILE /chenz/disk3
                    FILE /chenz/disk4

    get pool vdev

         >>> app.vdev
        {'mirror': [['/chenz/disk1', '/chenz/disk2'], ['/chenz/disk3', '/chenz/disk4']]}
        >>> app.vdev.mirror
        [['/chenz/disk1', '/chenz/disk2'], ['/chenz/disk3', '/chenz/disk4']]

    load vdev

        >>> spa = SPA()
        >>> spa.vdev_load('/chenz/disk1')
        [<VDevLabel 'txg 4'>, <VDevLabel 'txg 4'>, <VDevLabel 'txg 4'>, <VDevLabel 'txg 4'>]

    find active uber_block and ub_rootbp

        >>> labels = spa.vdev_load('/chenz/disk1')
        >>> labels[0].ubbest
        <UberBlock 'ub_txg 3553 ub_timestamp 1214147098'>
        >>> labels[0].ubbest.ub_rootbp
        <BlockPtr 
           DVA[0]=<0:c587400:200>
           DVA[1]=<1:9c58400:200>
           DVA[2]=<0:f42d200:200>
           DMU_OT_OBJSET fletcher4 lzjb birth=3553 fill=186
           chksum=968b8e8cf:3ede381dce2:d52bcd7233f8:1e901a03a9d308>

    check label nvlist

        >>> vl = labels[0]
        >>> from pprint import pprint
        >>> pprint(vl.data)
        {'guid': 18154330009430908299L,
         'hostid': 8323329,
         'hostname': 'ideer',
         'name': 'app',
         'pool_guid': 5617275442596158925L,
         'state': 0,
         'top_guid': 5351987517292081222L,
         'txg': 4,
         'vdev_tree': {'ashift': 9,
                       'asize': 263716864,
                       'children': [{'guid': 18154330009430908299L,
                                     'id': 0,
                                     'path': '/chenz/disk1',
                                     'type': 'file'},
                                    {'guid': 5077680094936758667L,
                                     'id': 1,
                                     'path': '/chenz/disk2',
                                     'type': 'file'}],
                       'guid': 5351987517292081222L,
                       'id': 0,
                       'is_log': 0,
                       'metaslab_array': 17,
                       'metaslab_shift': 21,
                       'type': 'mirror'},

